<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MarkLogic Fundamentals</title>
<link href="../css/ml.css" rel="stylesheet" type="text/css">
</head>

<body>
<p><img src="../images/general/Marklogic-University-RGB.png" alt="" width="130" height="38" class="logo-padding"/></p>
<p class="topic-heading"><strong>Modifying Documents</strong></p>
<p>Documents can be modified via various APIs and tools, including the Data Hub, JavaScript, XQuery, the REST API, the Java API,  the Node.js API, or CoRB.</p>
<p>JavaScript functions for updating documents include:</p>
<ul>
  <li>xdmp.nodeReplace()</li>
  <li>xdmp.nodeInsertChild()</li>
  <li>xdmp.nodeInsertBefore()</li>
  <li>xdmp.nodeInsertAfter()</li>
  <li>xdmp.nodeDelete()</li>
</ul>
<p>For example, xdmp.nodeReplace() could be used to replace the value of an existing JSON property. </p>
<p class="code">declareUpdate();<br>
  <br>
  const builder = new NodeBuilder();<br>
  const node = builder.addText("Powerful drone for waterskiing without a boat, which includes intelligent navigation for finding smooth water").toNode();<br>
  <br>
xdmp.nodeReplace(cts.doc("/patents/waterski_drone.json").xpath("/patent/description"), node);</p>
<p class="topic-sub-heading">Document Permissions</p>
<p>In order for a user to be able to make changes to a document, they need to  have a role that has  update permissions for the document.</p>
<p><img src="../images/unit05/update.png" width="700" height="130" class="image-border"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Next: <a href="0505_x_modify_a_document.htm">Exercise (Modify Documents)</a></p>
<p>Back: <a href="0504_x_assign_document_permissions.htm">Previous</a></p>
<hr>
<p class="copyright">Â©2015-2020 MarkLogic Corporation. All rights reserved. Copying, selling, or otherwise distributing any part of this course without prior written consent of an authorized representative of MarkLogic Corporation is prohibited.</p>
</body>
</html>
