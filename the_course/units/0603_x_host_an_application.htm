<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MarkLogic Fundamentals</title>
<link href="../css/ml.css" rel="stylesheet" type="text/css">
</head>

<body>
<p><img src="../images/general/Marklogic-University-RGB.png" alt="" width="130" height="38" class="logo-padding"/></p>
<p class="exercise-heading">Exercise: <strong>Host an Application </strong>(optional)</p>
<p>In this  walkthrough exercise, you define an HTTP server for an XQuery Hello World application to read a document from the playground database. </p>
<p>&nbsp;</p>
<ol class="exercise-step">
  <li class="exercise-step">In <strong>Query Console</strong>, select the <strong>playground</strong> database, and click the <strong>Explore</strong> button.<br>
  </li>
  <li class="exercise-step">See that you  have the /fun/hello.json and /fun/hello.xml documents in the database:<br>
    <br>
    <img src="../images/unit06/playground_two_docs.png" width="427" height="134" class="image-border"></li>
  <li class="exercise-step">In the <strong>Admin Interface</strong>, select   <strong>Configure</strong> - <strong>Groups</strong> - <strong>Default</strong> - <strong>App Servers</strong>.</li>
  <li class="exercise-step">Select the <strong>Create HTTP</strong> tab.</li>
  <li class="exercise-step">For server name, enter<span class="code"> 8051-playground</span>.</li>
  <li class="exercise-step">For root, enter<span class="code"> /home/cent/Desktop/mls-projects/playground</span>.</li>
  <li class="exercise-step">For port, enter<span class="code"> 8051</span>.</li>
  <li class="exercise-step">For modules, leave <strong>(file system)</strong> selected.</li>
  <li class="exercise-step">For database, select <strong>playground</strong>.</li>
  <li class="exercise-step">Click the <strong>ok</strong> button. </li>
  <li class="exercise-step">On the desktop of your virtual machine, right-click to then select <strong>New Folder</strong>.</li>
  <li class="exercise-step">Name the folder<span class="code"> mls-projects</span>.</li>
  <li class="exercise-step">Double-click the folder to open it.</li>
  <li class="exercise-step">Inside the mls-projects folder, create another <strong>new folder</strong> named<span class="code"> playground</span>.</li>
  <li class="exercise-step">Double-click the playground folder to open it.</li>
  <li class="exercise-step">Inside the playground folder, right-click to then select <strong>New Document</strong> - <strong>Text File</strong>. </li>
  <li class="exercise-step">Right-click on the file, to select <strong>Rename...</strong>.</li>
  <li class="exercise-step">Name the new file<span class="code"> index.xqy</span>.</li>
  <li class="exercise-step">Check the folder names and file name:<br>
    <br>
    <img src="../images/unit06/indexxqy.png" width="442" height="170" class="image-border"><br>
  </li>
  <li class="exercise-step"><strong>Double-click </strong> index.xqy to edit it in a text editor.</li>
  <li class="exercise-step">Enter the following (can copy from unit06/<strong>ex03a.txt</strong>):<br>
    <br>
    <span class="code">xdmp:set-response-content-type(&quot;text/html&quot;),<br>
      &lt;h1&gt;{fn:doc(&quot;/fun/hello.xml&quot;)}&lt;/h1&gt;</span><br>
  </li>
  <li class="exercise-step"><strong>Save</strong> the index.xqy file. </li>
  <li class="exercise-step">In a new browser window within the virtual machine, enter<span class="code"> http://localhost:8051</span>.</li>
  <li class="exercise-step">If prompted, enter <span class="code">admin</span> and <span class="code">admin</span>, to log in to the application.</li>
  <li class="exercise-step">See the content from the  /fun/hello.xml document displayed:<br>
    <br>
    <img src="../images/unit06/hello_world_xml_ss.png" width="457" height="157" class="image-border"><br>
  </li>
</ol>
<p>Optionally, modify the XQuery code to display the contents of a JSON document:</p>
<ol start="26" class="exercise-step">
  <li class="exercise-step">Modify the code to display the  contents of the hello.json file (change the document URI extension to .json, and add /data()):<br>
    <br>
    <span class="code">xdmp:set-response-content-type(&quot;text/html&quot;),<br>
&lt;h1&gt;{fn:doc(&quot;/fun/hello.<strong>json</strong>&quot;)<strong>/data()</strong>}&lt;/h1&gt;</span><br>
  </li>
  <li class="exercise-step"><strong>Save</strong> the file and <strong>refresh</strong> the browser window.</li>
  <li class="exercise-step">See  that content from the JSON document is displayed:<br>
    <br>
  <img src="../images/unit06/hello_world_xml_ss.png" width="457" height="157" class="image-border"></li>
</ol>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Next: <a href="0604_using_the_java_api.htm">Topic (Using the Java API)</a></p>
<p>Back: <a href="0603_hosting_an_application.htm">Previous</a></p>
<hr>
<p class="copyright">Â©2015-2020 MarkLogic Corporation. All rights reserved. Copying, selling, or otherwise distributing any part of this course without prior written consent of an authorized representative of MarkLogic Corporation is prohibited.</p>
</body>
</html>
